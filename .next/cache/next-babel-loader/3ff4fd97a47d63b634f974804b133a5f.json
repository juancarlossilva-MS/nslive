{"ast":null,"code":"import { withIronSession } from \"next-iron-session\";\nconst VALID_EMAIL = \"chris@decimal.fm\";\nconst VALID_PASSWORD = \"opensesame\";\nexport default withIronSession(async (req, res) => {\n  if (req.method === \"POST\") {\n    const {\n      email,\n      password\n    } = req.body;\n\n    if (email === VALID_EMAIL && password === VALID_PASSWORD) {\n      req.session.set(\"user\", {\n        email\n      });\n      await req.session.save();\n      return res.status(201).send(\"\");\n    }\n\n    return res.status(403).send(\"\");\n  }\n\n  return res.status(404).send(\"\");\n}, {\n  cookieName: \"MYSITECOOKIE\",\n  cookieOptions: {\n    secure: false ? true : false\n  },\n  password: process.env.APPLICATION_SECRET\n});","map":{"version":3,"sources":["C:/Users/Jay-C/Documents/apps/nslive/pages/api/sessions.js"],"names":["withIronSession","VALID_EMAIL","VALID_PASSWORD","req","res","method","email","password","body","session","set","save","status","send","cookieName","cookieOptions","secure","process","env","APPLICATION_SECRET"],"mappings":"AAAA,SAASA,eAAT,QAAgC,mBAAhC;AAEA,MAAMC,WAAW,GAAG,kBAApB;AACA,MAAMC,cAAc,GAAG,YAAvB;AAEA,eAAeF,eAAe,CAC5B,OAAOG,GAAP,EAAYC,GAAZ,KAAoB;AAClB,MAAID,GAAG,CAACE,MAAJ,KAAe,MAAnB,EAA2B;AACzB,UAAM;AAAEC,MAAAA,KAAF;AAASC,MAAAA;AAAT,QAAsBJ,GAAG,CAACK,IAAhC;;AAEA,QAAIF,KAAK,KAAKL,WAAV,IAAyBM,QAAQ,KAAKL,cAA1C,EAA0D;AACxDC,MAAAA,GAAG,CAACM,OAAJ,CAAYC,GAAZ,CAAgB,MAAhB,EAAwB;AAAEJ,QAAAA;AAAF,OAAxB;AACA,YAAMH,GAAG,CAACM,OAAJ,CAAYE,IAAZ,EAAN;AACA,aAAOP,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAArB,CAAP;AACD;;AAED,WAAOT,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAArB,CAAP;AACD;;AAED,SAAOT,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAArB,CAAP;AACD,CAf2B,EAgB5B;AACEC,EAAAA,UAAU,EAAE,cADd;AAEEC,EAAAA,aAAa,EAAE;AACbC,IAAAA,MAAM,EAAE,QAAwC,IAAxC,GAA+C;AAD1C,GAFjB;AAKET,EAAAA,QAAQ,EAAEU,OAAO,CAACC,GAAR,CAAYC;AALxB,CAhB4B,CAA9B","sourcesContent":["import { withIronSession } from \"next-iron-session\";\r\n\r\nconst VALID_EMAIL = \"chris@decimal.fm\";\r\nconst VALID_PASSWORD = \"opensesame\";\r\n\r\nexport default withIronSession(\r\n  async (req, res) => {\r\n    if (req.method === \"POST\") {\r\n      const { email, password } = req.body;\r\n\r\n      if (email === VALID_EMAIL && password === VALID_PASSWORD) {\r\n        req.session.set(\"user\", { email });\r\n        await req.session.save();\r\n        return res.status(201).send(\"\");\r\n      }\r\n\r\n      return res.status(403).send(\"\");\r\n    }\r\n\r\n    return res.status(404).send(\"\");\r\n  },\r\n  {\r\n    cookieName: \"MYSITECOOKIE\",\r\n    cookieOptions: {\r\n      secure: process.env.NODE_ENV === \"production\" ? true : false\r\n    },\r\n    password: process.env.APPLICATION_SECRET\r\n  }\r\n);"]},"metadata":{},"sourceType":"module"}